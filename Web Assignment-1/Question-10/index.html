<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="styling.css">
</head>

<body>
  <!-- Main Class for all -->
  <div class="main">
    <!-- From SEction for submission -->
    <div class="formSection">
      <div class="textSection">
        <h2>Fill your interests</h2>
        <p>Loreim ipsem, teh btnsaks aos thheh slaals asdasd as ad asd as .</p>
      </div>
      <label for="fname">Name:</label>
      <input type="text" id="fname" name="fname" value="">
      <p id="error1"></p>


      <label for="Email">Email:</label>
      <input type="email" id="Email" name="Email" value="" placeholder="user@example.gov">
      <p id="error2" ></p>

      <label for="dob">DOB:</label><br>
      <input type="date" id="dob" name="dob" value="">
      <p id="error3" ></p>

      <label for="Interest">Select your interest :</label>
      <select id="Interest" required>
        <option value="" style="color: lightgray;" disabled selected hidden>-Select-</option>
        <option value="UET">UET</option>
        <option value="NUST">NUST</option>
        <option value="LUMS">LUMS</option>
      </select>
      <p id="error4" ></p>
      <input type="checkbox" id="Individual" name="Individual" value="Male">
      <label for="M">Individual</label>
      <input type="checkbox" id="Organization" name="Organization" value="Female">
      <label for="F">Organization</label>
      <br>
      <label for="About">About You</label>
      <textarea name="About" id="About" cols="30" rows="10"></textarea>
      <input type="submit" value="Send Details" onclick="characters()">
    </div>
  </div>
  <script>
    function characters() {
      let nameCharacters = document.getElementById("fname").value;
      nameCharacters = nameCharacters.length;
      let emailText = document.getElementById("Email").value;
      let dateOfBirth = document.getElementById("dob").value;
      let interestCheck = document.getElementById("Interest").value;
      //Email format for validation
      var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
      //Checking the age of the user
      const dummy = new Date(dateOfBirth);
      userYear = dummy.getFullYear();
      userDay = dummy.getDay();
      // var val = "";
      // for (i = 0; i < 4; i++) {
      //   val = val + dateOfBirth[i];
      // }
      const currentDate = new Date();
      const currentYear = currentDate.getFullYear();
      const currentDay = currentDate.getDay();
      let age = currentYear - userYear;
      //For Checking the error in Name
      try {
        if (nameCharacters > 50) throw "Characters Limit Exceed"
        if (nameCharacters == 0) throw "Name Cannot be empty"
        if (nameCharacters <= 50 && nameCharacters > 0) throw ""
      }
      catch (error1) {
        document.getElementById("error1").innerHTML = error1;
      }
      //For Checking the error in Email, either it is empty or invalid
      try {
        if (emailText == "") throw "Email cannot be empty"
        if (emailText.match(mailformat)) { throw "" }
        else { throw "Invalid Email" }
      }
      catch (error2) {
        document.getElementById("error2").innerHTML = error2;
      }
      //For Checking the error in DOB of user either he/she is a kid or elder
      try {
        if (dateOfBirth == "") throw "DOB cannot be empty"
        if (age >= 13) throw ""
        if (age < 13 && age >= 0) throw "Hello Kid! Your are too young for this"
        if(userYear>=currentYear && userDay>currentDay) throw "Invalid DOB"
      }
      catch (error3) {
        document.getElementById("error3").innerHTML = error3;
      }
      //For Checking the error in Interest of user
      try {
        if (interestCheck == "") throw "Please Select the value to proceed"
        if (interestCheck != "") throw ""
      }
      catch (error4) {
        document.getElementById("error4").innerHTML = error4;
      }


    }
  </script>
</body>

</html>